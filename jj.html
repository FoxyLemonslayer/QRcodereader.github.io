
        h1 {
            font-size: 2em;
            margin: 0;
        }

        section {
            padding: 50px;
            text-align: center;
        }

        p {
            font-size: 1.2em;
            color: #555;
        }

        button {
            font-size: 1em;
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #555;
        }

        video {
            max-width: 100%;
            border: 2px solid #333;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        #output {
            font-size: 1.2em;
            color: #333;
        }
    </style>
</head>
<body>
    <header>
        <h1>QR Code Reader</h1>
    </header>

    <section>
        <video id="video" width="640" height="480" autoplay></video>
        <div id="output"></div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.0.0/dist/jsQR.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const video = document.getElementById('video');

            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then((stream) => {
                    video.srcObject = stream;
                });

            video.addEventListener('loadeddata', () => {
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                setInterval(() => {
                    context.drawImage(video, 0, 0, video.videoWidth, video.videoHeight);
                    const imageData = context.getImageData(0, 0, video.videoWidth, video.videoHeight);
                    const code = jsQR(imageData.data, imageData.width, imageData.height, {
                        inversionAttempts: 'dontInvert',
                    });

                    if (code) {
                        console.log('QR code detected:', code.data);

                        if (code.data.startsWith('http') || code.data.startsWith('https')) {
                            if (code.data.includes('https://play.google.com')) {
                                if (confirm('Open in Google Play Store?')) {
                                    window.open(code.data, '_blank');
                                }
                            } else {
                                const redirectButton = confirm('Link detected. Open in browser?');

                                if (redirectButton) {
                                    window.open(code.data, '_blank');
                                }
                            }
                        } else if (code.data.includes('https://apps.apple.com')) {
                            if (confirm('Open in App Store?')) {
                                window.open(code.data, '_blank');
                            }
                        } else if (code.data.startsWith('BEGIN:VCARD')) {
                            alert('Contact detected. Data: ' + code.data);
                        } else if (code.data.startsWith('mailto:')) {
                            alert('Email detected. Data: ' + code.data);
                        } else if (code.data.startsWith('smsto:')) {
                            alert('SMS detected. Data: ' + code.data);
                        } else if (code.data.startsWith('WIFI:')) {
                            alert('WiFi detected. Data: ' + code.data);
                        } else if (code.data.startsWith('geo:')) {
                            alert('GPS detected. Data: ' + code.data);
                        } else if (code.data.startsWith('BEGIN:VEVENT')) {
                            alert('Calendar event detected. Data: ' + code.data);
                        } else if (code.data.startsWith('PAYMENT:')) {
                            alert('Payment QR code detected. Data: ' + code.data);
                        } else {
                            alert('QR code detected: ' + code.data);
                        }
                    }
                }, 100);
            });
        });
    </script>
</body>
</html>

